{% extends 'base.html' %}

{% block content %}

<div class="container mt-5">
	<h2>All Users</h2>
	<div class="row">
		{% for profile in profiles %}
		<div class="col-md-4 mb-4">
			<div class="card">
				<div class="card-body off-white-bg">
					<h5 class="card-title">{{ profile.user.username }}</h5>
					<p class="card-text">Profile details here (e.g., bio, image, etc.).</p>
					{% if user.is_authenticated %}
					<form action="{% url 'Subscriptions:index' %}" method="POST">
						{% csrf_token %}
						<input type="hidden" name="target_profile_id" value="{{ profile.id }}">
						<button type="submit" class="btn btn-primary" name="action" value="subscribe">
							Subscribe
						</button>
					</form>
					{% endif %}
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>




{% endblock %}